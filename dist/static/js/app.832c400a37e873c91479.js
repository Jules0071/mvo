webpackJsonp([0],{"+Fxr":function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n("7+uW"),r={props:["options"],data:()=>({observer:null}),mounted(){const t=this.options||{};this.observer=new IntersectionObserver(([t])=>{t&&t.isIntersecting&&(this.$emit("intersect"),console.log("observer"))},t),this.observer.observe(this.$refs.observer)},destroyed(){}},i={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{ref:"observer",staticClass:"mv-observer"},[this._t("default")],2)},staticRenderFns:[]};var o=n("VU/8")(r,i,!1,function(t){n("g/94")},null,null).exports,a={props:{section:{type:Object},active:{type:Boolean,default:!1}},mounted(){}},c={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"mv-content",staticStyle:{"background-image":"url('../assets/background/intro.jpg')"}},[t.section.data.length?[n("h1",[t._v(t._s(t.section.data[0].name))]),t._v(" "),n("p",[t._v(t._s(t.section.data[0].content.text))])]:t._e()],2)},staticRenderFns:[]},l={name:"Section",components:{"mv-observer":o,"mv-content":n("VU/8")(a,c,!1,null,null,null).exports},props:{section:{type:Object}},data:()=>({active:!1}),methods:{intersect(){this.$emit("intersect",this.section.id)}},mounted(){setTimeout(()=>{this.active=!0},100)}},u={render:function(){var t=this.$createElement,e=this._self._c||t;return e("mv-observer",{attrs:{id:this.section.id},on:{intersect:this.intersect}},[e("mv-content",{attrs:{section:this.section}})],1)},staticRenderFns:[]};var m=n("VU/8")(l,u,!1,function(t){n("+Fxr")},null,null).exports,v={render:function(){var t=this.$createElement;return(this._self._c||t)("header",{staticClass:"mv-header"},[this._t("menu"),this._v(" "),this._t("burger")],2)},staticRenderFns:[]},d=n("VU/8")({components:{}},v,!1,null,null,null).exports,h={props:{items:Array}},p={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nav",{staticClass:"mv-menu"},[n("ul",{staticClass:"mv-menu--list"},t._l(t.items,function(e){return n("li",{key:e.name},[n("a",{attrs:{href:e.id}},[n("span",[t._v(t._s(e.name))])]),t._v(" "),e.children?n("ul",{staticClass:"mv-menu--dropdown"},t._l(e.children,function(e){return n("li",{key:e.name},[n("a",{attrs:{href:e.id}},[n("span",[t._v(t._s(e.name))])])])}),0):t._e()])}),0)])},staticRenderFns:[]},f={name:"App",components:{"mv-section":m,"mv-observer":o,"mv-header":d,"mv-menu":n("VU/8")(h,p,!1,null,null,null).exports,"mv-burger":n("RPQB").default},data:()=>({page:1,sections:[]}),methods:{async getInitialSections(){const t=await fetch("https://raw.githubusercontent.com/Jules0071/mvo/master/data/sections.json");this.sections=await t.json()},async intersected(){const t=await fetch(`https://raw.githubusercontent.com/Jules0071/mvo/master/data/content-${this.page}.json`);this.page++;const e=await t.json();console.log(this.page-2),this.sections[this.page-2].data.push(e),console.log(this.sections)},log(t){}},mounted(){JSON.stringify(this.sections);this.getInitialSections()}},_={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("mv-header",[n("mv-menu",{attrs:{slot:"menu",items:t.sections},slot:"menu"})],1),t._v(" "),t._l(t.sections,function(e){return n("mv-section",{key:e.id,attrs:{section:e},on:{intersect:t.intersected}})})],2)},staticRenderFns:[]};var g=n("VU/8")(f,_,!1,function(t){n("WJNm")},null,null).exports;s.a.config.productionTip=!1,new s.a({el:"#app",components:{App:g},template:"<App/>"})},RPQB:function(t,e,n){"use strict";var s=n("yHKr"),r=n.n(s),i=n("pews"),o=n("VU/8")(r.a,i.a,!1,null,null,null);e.default=o.exports},WJNm:function(t,e){},"g/94":function(t,e){},pews:function(t,e,n){"use strict";var s={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"mv-burger"},[e("span"),this._v(" "),e("span"),this._v(" "),e("span")])}]};e.a=s},yHKr:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.832c400a37e873c91479.js.map